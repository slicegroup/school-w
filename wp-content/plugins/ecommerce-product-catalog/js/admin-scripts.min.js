/*!
 impleCode Admin scripts
 Adds appropriate scripts to admin settings
 (c) 2017 impleCode - https://implecode.com
 */

jQuery( document ).ready( function( ){jQuery( ".ic_chosen" ).chosen( {width:"200px", search_contains:!0} ), jQuery( ".sort-settings tbody" ).sortable( {items:"tr:not(.ic-not-sortable)", update:function( ){jQuery( ".sort-settings tbody tr" ).each( function( ){var e = jQuery( this ).index( ); jQuery( this ).find( "td .attribute-label" ).attr( "name", "_attribute-label" + e ), jQuery( this ).find( "td .attribute-value" ).attr( "name", "_attribute" + e ), jQuery( this ).find( "td .attribute-unit" ).attr( "name", "_attribute-unit" + e ), e += 1, jQuery( this ).find( "td .shipping-label" ).attr( "name", "_shipping-label" + e ), jQuery( this ).find( "td .shipping-value" ).attr( "name", "_shipping" + e )} )}, helper:function( e, i ){return i.children( ).each( function( ){jQuery( this ).width( jQuery( this ).width( ) )} ), i}, placeholder:"sort-settings-placeholder"} ); var n = new Array( 'input[name="archive_multiple_settings[category_archive_url]"]', 'input[name="archive_multiple_settings[seo_title]"]', 'input[name="archive_multiple_settings[seo_title_sep]"]', 'input[name="archive_multiple_settings[breadcrumbs_title]"]', 'input[name="archive_multiple_settings[enable_product_breadcrumbs]"]', 'input[name="archive_multiple_settings[product_listing_cats]"]', 'input[name="archive_multiple_settings[category_top_cats]"]', 'input[name="archive_multiple_settings[cat_template]"]' ), o = new Array( 'input[name="archive_multiple_settings[product_listing_cats]"]', 'input[name="archive_multiple_settings[category_top_cats]"]', 'input[name="archive_multiple_settings[cat_template]"]', 'input[name="archive_multiple_settings[cat_image_disabled]"]' ); jQuery( ".integration-mode-selection" ).change( function( ){var e = !1, i = jQuery( this ).is( ":checked" ), t = jQuery( this ).val( ); i && "simple" === t?e = "simple":i && "theme" === t && ( e = "theme" ), i && ( e?"simple" === e?( jQuery( ".advanced_mode_settings" ).hide( ), jQuery( ".advanced_mode_settings_inline" ).hide( ), jQuery( ".theme_mode_settings" ).hide( "slow" ), jQuery( ".simple_mode_settings" ).show( "slow" ), jQuery.each( n, function( e, i ){jQuery( i ).closest( "tr" ).hide( )} ) ):"theme" === e && ( jQuery( ".advanced_mode_settings" ).hide( ), jQuery( ".simple_mode_settings" ).hide( "slow" ), jQuery( ".theme_mode_settings" ).show( "slow" ), jQuery( ".advanced_mode_settings_inline" ).show( ), jQuery.each( n, function( e, i ){jQuery( i ).closest( "tr" ).show( )} ), jQuery.each( o, function( e, i ){jQuery( i ).closest( "tr" ).hide( )} ) ):( jQuery( ".simple_mode_settings" ).hide( "slow" ), jQuery( ".theme_mode_settings" ).hide( "slow" ), jQuery( ".advanced_mode_settings" ).show( ), jQuery( ".advanced_mode_settings_inline" ).show( ), jQuery.each( n, function( e, i ){jQuery( i ).closest( "tr" ).show( )} ) ) )} ), jQuery( ".integration-mode-selection" ).trigger( "change" ), jQuery( ".implecode-review .dashicons-no" ).click( function( ){jQuery.post( ajaxurl, {action:"hide_review_notice"}, function( e ){jQuery( ".implecode-review" ).hide( "slow" )} )} ), jQuery( ".implecode-translate .dashicons-no" ).click( function( ){jQuery.post( ajaxurl, {action:"hide_translate_notice"}, function( e ){jQuery( ".implecode-translate" ).hide( "slow" )} )} ), jQuery( ".implecode-review-thanks .dashicons-yes" ).click( function( ){jQuery( ".implecode-review-thanks" ).hide( "slow" )} ), jQuery( ".implecode-review a" ).click( function( e ){if ( jQuery( this ).hasClass( "button" ) ){e.preventDefault( ); var i = {action:"hide_review_notice", forever:"yes"}; jQuery.post( ajaxurl, i, function( e ){jQuery( ".implecode-review" ).hide( "slow" )} )} else{i = {action:"hide_review_notice", forever:"yes"}; jQuery.post( ajaxurl, i, function( e ){jQuery( ".implecode-review" ).hide( "slow" ), jQuery( ".implecode-review-thanks" ).show( "slow" )} )}} ), jQuery( ".implecode-review.is-dismissible" ).on( "click", ".notice-dismiss", function( e ){jQuery.post( ajaxurl, {action:"hide_review_notice"} )} ), jQuery( ".ic-notice.is-dismissible" ).on( "click", ".notice-dismiss", function( e ){var i = jQuery( this ).closest( ".is-dismissible" ).data( "ic_dismissible" ); if ( void 0 !== i ){var t = {action:"hide_ic_notice", element:i}; jQuery.post( ajaxurl, t )}} ), jQuery( ".al-box" ).on( "click", ".notice-dismiss", function( ){var e = jQuery( this ).closest( ".al-box" ); e.css( "opacity", "0.5" ); var i = e.data( "hash" ); if ( void 0 !== i ){var t = {action:"ic_ajax_hide_message", hash:i}; jQuery.post( ajaxurl, t, function( ){e.hide( "slow" )} )}} ), jQuery( function( ){jQuery( ".setting-content input, span.ic_tip" ).tooltip( {position:{my:"left-48 top+37", at:"right+48 bottom-37", collision:"flip"}, track:!0, tooltipClass:"ui-ic-tooltip"} )} ), jQuery( "body" ).on( "click", ".add_catalog_media", function( ){var t = jQuery( this ), n = t.parent( "div" ), o = t.prev( "div" ), r = n.children( "#upload_type" ).val( ); return wp.media.editor.send.attachment = function( e, i ){"url" == r?n.children( "#uploaded_image" ).val( i.url ):n.children( "#uploaded_image" ).val( i.id ), o.children( "img" ).attr( "src", i.url ), o.children( "img" ).show( ), o.children( ".catalog-reset-image-button" ).show( ), t.prev( "div.implecode-admin-media-image.empty" ).removeClass( "empty" ), t.hide( )}, wp.media.editor.open( t ), !1} ), jQuery( ".catalog-reset-image-button" ).click( function( ){var e = jQuery( this ); e.parent( "div" ).prev( ".uploaded_image" ).val( "" ), src = jQuery( "#default" ).val( ), e.next( ".media-image" ).attr( "src", src ), "" != src?e.next( ".media-image" ).show( ):e.next( ".media-image" ).hide( ), e.parent( "div" ).next( ".add_catalog_media" ).show( ), e.parent( ".implecode-admin-media-image" ).addClass( "empty" ), e.hide( )} ), jQuery( "form#post" ).submit( function( e ){jQuery( 'input[name="_price"]' ).length && ( jQuery( 'input[name="_price"]' ).valid( ) || ( e.preventDefault( ), jQuery( "html, body" ).animate( {scrollTop:jQuery( "#_price-error" ).offset( ).top - 200}, 100 ) ) )} ), jQuery( ".ic_autocomplete" ).each( function( ){var i = !1, e = jQuery( this ).data( "ic-autocomplete" ); void 0 !== e && jQuery( this ).autocomplete( {source:e, minLength:0, close:function( ){i = !0, setTimeout( function( ){i = !1}, 300 )}} ).focus( function( ){var e = jQuery( this ).val( ); i || "" != e || jQuery( this ).autocomplete( "search" )} )} )} ), jQuery( document ).ready( function( e ){e.ic = {hooks:{action:{}, filter:{}}, addAction:function( e, i, t ){jQuery.ic.addHook( "action", e, i, t )}, addFilter:function( e, i, t ){jQuery.ic.addHook( "filter", e, i, t )}, doAction:function( e, i ){jQuery.ic.doHook( "action", e, null, i )}, applyFilters:function( e, i, t ){return jQuery.ic.doHook( "filter", e, i, t )}, removeAction:function( e, i ){jQuery.ic.removeHook( "action", e, i )}, removeFilter:function( e, i ){jQuery.ic.removeHook( "filter", e, i )}, addHook:function( e, i, t, n ){null == jQuery.ic.hooks[e][i] && ( jQuery.ic.hooks[e][i] = [] ); var o = jQuery.ic.hooks[e][i]; null == n && ( n = i + "_" + o.length ), jQuery.ic.hooks[e][i].push( {tag:n, callable:t} )}, doHook:function( e, i, t, n ){if ( null != jQuery.ic.hooks[e][i] )for ( var o = jQuery.ic.hooks[e][i], r = 0; r < o.length; r++ )"action" == e?o[r].callable( n ):t = o[r].callable( t, n ); if ( "filter" == e )return t}, removeHook:function( e, i, t ){if ( null != jQuery.ic.hooks[e][i] )for ( var n = jQuery.ic.hooks[e][i], o = n.length - 1; 0 <= o; o-- )null != t && t != n[o].tag || n.splice( o, 1 )}}} );